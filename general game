#include "raylib.h"
#include<unistd.h>
#include <iostream>  
#include <vector>  
#include <cmath>

int main()
{
    

    


    int width = 1400;
    int height = 800;
    

    
    
    
    InitWindow(width, height, "Milos Window" );
    
    //initializes a fuck ton of variables
    int xcord{90};
    int ycord(400);

    int xcord2{1300};
    int ycord2{400};

    int xcord3(1300);
    int ycord3(400);

    int xcord4(1300);
    int ycord4(400);

    int xcord5(1300);
    int ycord5(400);


    
    bool toggle = false;
    bool red = false;
    bool green = false;
    bool reset = false;
    bool moved = false;
    bool level1 = true;
    bool level2 = false;

    int intensity1 = 80;
    int intensity2 = 80;
    int intensity3 = 10;
    int intensityspew = 20;

    int moving = 0;
    bool level3 = false;
    bool gather = false;
    int rapid = 30;
    int midpointx = 0; 
    int midpointy = 0; 
    bool ninety = false;
    int attacky = 0;
    int attackx = 0;
    bool fart = false;
    bool there1 = false;
    bool there2 = false;
    bool attack1 = false;
    bool attack2 = false;
    bool attack3 = false;
    bool stopped = false;
    bool attarget1 = false;
    bool attarget2 = false;
    bool attarget3 = false;

           
            bool first = false;
            bool second = false;
            bool third = false;
   
    
    //begins loop to start game
    while(WindowShouldClose() == false)
    {
        //Starts the drawing
        BeginDrawing();



        





        //Makes Background 
        if (red == true){
            ClearBackground(RED);
        }
        else if (green == true){
            ClearBackground(GREEN);
        }
        else{
            ClearBackground(WHITE);
        }
      
        
        

         //draws level completion and reset position to middle
            if (toggle == true){
                DrawRectangleLines(550, 300, 300, 21, BLACK);
                

                if (reset == false)
                {
                xcord = 700;
                ycord = 310;
                reset = true;

                }

            
               
                
                if (red == true)
                {


                    
                    DrawText("GAME OVER", 640, 230, 20, BLACK);
                    DrawText("Try again", 520, 330, 17, BLACK);
                     DrawText("Locked", 820, 330, 17, BLACK);
                    DrawCircle(550, 310, 10, ORANGE);
                    DrawCircle(850, 310, 10, BLUE);

                    
                    
                    
                }
                if (green == true)
                {
                    
                    DrawText("Escaped!!!", 645, 230, 20, BLACK);
                    DrawText("Try Again", 520, 330, 17, BLACK);
                    DrawText("Next Level", 820, 330, 17, BLACK);
                    DrawCircle(550, 310, 10, ORANGE);
                    DrawCircle(850, 310, 10, BLUE);
                    
                    

                }


                
            }
            
         //Moves main circle at a slower speed when not toggled

            if (toggle == false){
            
            
                if (IsKeyDown(KEY_W)){
                    moved = true;
                    if (ycord > 59)
                    {
                    int rando = GetRandomValue(0, 90);
                    if (rando > 60){
                        ycord = ycord - 1;
                    }
                    }
                    
                    

                }
                if (IsKeyDown(KEY_S)){
                    moved = true;
                    if (ycord < 741)
                    {
                    int randop = GetRandomValue(0, 90);
                    if (randop > 60){
                        ycord = ycord + 1;
                    }
                    }
                    
                

                }
                if (IsKeyDown(KEY_D)){
                    moved = true;
                    if (xcord < 1341)
                    {
                    int randoo = GetRandomValue(0, 90);
                    if (randoo > 60){
                        xcord = xcord + 1;

                    }
                    }
                    
                    

                }
                if (IsKeyDown(KEY_A)){
                    moved = true;
                    if(xcord > 59){
                        int randow = GetRandomValue(0, 90);
                        if (randow > 60){
                            xcord = xcord - 1;
                        }
                    }
                    

                }


            }


        //changes circle to locked x movemenet if toggle == true
            else if(toggle == true){
                if (IsKeyDown(KEY_D) && xcord < 850){
                    int randoo = GetRandomValue(0, 90);
                    if (randoo > 60){
                        xcord = xcord + 1;

                    }
                    

                }
                if (IsKeyDown(KEY_A) && xcord > 550){
                    int randow = GetRandomValue(0, 90);
                    if (randow > 60){
                        xcord = xcord - 1;
                    }

                }

                

            }



        //Initializes the enemy circle to specfic location, color, and radius, as well as moving it
        //also initializes goals and checks for collisions

        if (level1 == true){
          
        
            if (moved == false){
                DrawText("Use WASD to move", 100, 500, 25, BLACK);


            }
        
            
            if(toggle == false && level1 == true){
            DrawRectangle(xcord2, ycord2, 50, 50, GREEN);
            DrawCircle(xcord3, ycord3,30, RED );

            }
        


        //moves enemy circle
            if (toggle == false && level1 == true)
            {

                
                if (ycord > ycord3){
                    int rangot = GetRandomValue(0, 100);
                    
                    if (rangot > intensity1){

                    ycord3 = ycord3 + 1;
                    }
                    
                }

                if (xcord > xcord3){
                    int googet = GetRandomValue(0, 100);
                    if (googet > intensity1){
                        xcord3 = xcord3 + 1;
                    }
                    
                    
                }
                if (ycord < ycord3){
                    int hotel = GetRandomValue(0, 100);
                    if (hotel > intensity1){
                        ycord3 = ycord3 - 1;
                    }
                
                }
                
                if (xcord < xcord3){
                    int zipit = GetRandomValue(0, 100);
                    if (zipit > intensity1){
                        xcord3 = xcord3 - 1;

                    }
                
                }

                //checks for end goal collision
                if ((1300 < xcord && xcord < 1350) && (400 < ycord && ycord < 450))
                {
                green = true;
                 
                toggle = true;
                
                }

                //checks for enemy circle collision
                if ( (((xcord3 - 30) < xcord) && ((xcord3 + 30) > xcord)) && ((ycord3 - 30) < ycord) && ((ycord3 + 30) > ycord))
                { 
                    red = true;
                    toggle = true;

                } 


            }
            
        }





        //starts LEVEL #2, initializes walls and checks for collisons as well as enemy circle and goal
        if (toggle == false && level2 == true)

        {
                
            
            DrawRectangle(900, 400, 50, 400, RED);
            DrawRectangle(700, 0, 50, 400, RED);
            DrawRectangle(500, 400, 50, 400, RED);
            DrawRectangle(300, 0, 50, 400, RED);
            
            //checks collisions with walls in level 2
            if ((xcord > 900 && xcord <950) && (ycord > 400 && ycord < 800))
            {
                red = true;
                toggle = true;
            }
            if ((xcord > 500 && xcord <550) && (ycord > 400 && ycord < 800))
            {
                red = true;
                toggle = true;
            }
            if ((xcord > 700 && xcord <750) && (ycord > 0 && ycord < 400))
            {
                red = true;
                toggle = true;
            }
            if ((xcord > 300 && xcord <350) && (ycord > 0 && ycord < 400))
            {
                red = true;
                toggle = true;
            }

            //tracks enemy circle to you
            if (ycord > ycord3){
                    int rangot = GetRandomValue(0, 100);
                    
                    if (rangot > intensity2){

                    ycord3 = ycord3 + 1;
                    }
                    
            }

                if (xcord > xcord3){
                    int googet = GetRandomValue(0, 100);
                    if (googet > intensity2){
                        xcord3 = xcord3 + 1;
                    }
                    
                    
                }
                if (ycord < ycord3){
                    int hotel = GetRandomValue(0, 100);
                    if (hotel > intensity2){
                        ycord3 = ycord3 - 1;
                    }
                
                }
                
                if (xcord < xcord3){
                    int zipit = GetRandomValue(0, 100);
                    if (zipit > intensity2){
                        xcord3 = xcord3 - 1;

                    }
                
                }



            

            DrawRectangle(xcord2, ycord2, 50, 50, GREEN);

            DrawCircle(xcord3, ycord3, 30, RED );
            //checks for end goal collision
            if ((1300 < xcord && xcord < 1350) && (400 < ycord && ycord < 450))
            {
                green = true;
                 
                toggle = true;
                
            }

                //checks for enemy circle collision
            
            if ( (((xcord3 - 30) < xcord) && ((xcord3 + 30) > xcord)) && ((ycord3 - 30) < ycord) && ((ycord3 + 30) > ycord))
            { 
                red = true;
                toggle = true;

            } 
            


            if (moving == 0){

            }
            
                


        }
       
       
       
       
       
        //starts LEVEL 3#
        if (toggle == false && level3 == true){



            


            
            

            
            if (gather == true && stopped == false)
            {
                midpointx = round(((xcord3 + xcord4 + xcord5) / 3));
                midpointy = round(((ycord3 + ycord4 + ycord5) / 3));
                
                


                //moves first
                if (midpointy > ycord3){
                        int rangot = GetRandomValue(0, 100);
                        
                        if (rangot > intensity3){

                        ycord3 = ycord3 + 1;
                        }
                        
                    }
                if (midpointx  > xcord3){
                        int googet = GetRandomValue(0, 100);
                        if (googet > intensity3){
                            xcord3 = xcord3 + 1;
                        }
                        
                        
                }
                if (midpointy < ycord3){
                        int hotel = GetRandomValue(0, 100);
                        if (hotel > intensity3){
                            ycord3 = ycord3 - 1;
                        }
                    
                }             
                if (midpointx < xcord3){
                        int zipit = GetRandomValue(0, 100);
                        if (zipit > intensity3){
                            xcord3 = xcord3 - 1;

                        }
                    
                }
                
                //moves second enemy
                if (midpointy> ycord4){
                        int rangot = GetRandomValue(0, 100);
                        
                        if (rangot > intensity3){

                        ycord4 = ycord4 + 1;
                        }
                        
                }
                if (midpointx > xcord4){
                        int googet = GetRandomValue(0, 100);
                        if (googet > intensity3){
                            xcord4 = xcord4 + 1;
                        }
                        
                        
                }
                if (midpointy < ycord4){
                        int hotel = GetRandomValue(0, 100);
                        if (hotel > intensity3){
                            ycord4 = ycord4 - 1;
                        }
                    
                }             
                if (midpointx < xcord4){
                        int zipit = GetRandomValue(0, 100);
                        if (zipit > intensity3){
                            xcord4 = xcord4 - 1;

                        }
                    
                }
                //moves third enemy
                if (midpointy> ycord5){
                        int rangot = GetRandomValue(0, 100);
                        
                        if (rangot > intensity3){

                        ycord5 = ycord5 + 1;
                        }
                        
                }
                if (midpointx > xcord5){
                        int googet = GetRandomValue(0, 100);
                        if (googet > intensity3){
                            xcord5 = xcord5 + 1;
                        }
                        
                        
                }
                if (midpointy < ycord5){
                        int hotel = GetRandomValue(0, 100);
                        if (hotel > intensity3){
                            ycord5 = ycord5 - 1;
                        }
                    
                }             
                if (midpointx < xcord5){
                    int tossit = GetRandomValue(0, 100);
                        if (tossit > intensity3){
                            xcord5 = xcord5 - 1;
                        }

                }
            }
               
               


                
                
                //checks to see if balls are gathered
                if ((midpointx == xcord3 && midpointx == xcord4 && midpointx == xcord5) && (midpointy == ycord3 && midpointy == ycord4 && midpointy == ycord5))
                {
                    
                    if (ninety == false)
                    {
                                        attackx = 0;
                                        attacky = 0;
                                        attackx = attackx + xcord;
                                
                                        attacky = attacky + ycord;
                                        ninety = true;

                    }
                    

                    stopped = true;
                    gather = false;
                    
                }
                    


                    
                   
     
                                //starts first ball tracking
                                if (gather == false && attarget1 == false ){
                                    
                                    
                                    if (fart == false)
                                    {
                                        attackx = 0;
                                        attacky = 0;
                                        attackx = attackx + xcord;
                                
                                        attacky = attacky + ycord;
                                        fart = true;
                                        there1 = false;

                                    }
                        
                                    //tracks first ball to cord
                                    if (there1 == false){
                                        rapid = 55;
                                        

                                    
                                        if (attackx  > xcord4){
                                            int googert = GetRandomValue(0, 100);
                                            if (googert > intensityspew){
                                                xcord4 = xcord4 + 1;
                                            }
                                            
                                            
                                        }
                                        if (attacky < ycord4){
                                            int hotefl = GetRandomValue(0, 100);
                                            if (hotefl > intensityspew){
                                                ycord4 = ycord4 - 1;
                                            }
                                        
                                        }             
                                        if (attackx  < xcord4){
                                        int googgeet = GetRandomValue(0, 100);
                                            if (googgeet > intensityspew){
                                                xcord4 = xcord4 - 1;
                                            }
                                            
                                        }
                                        if (attacky > ycord4){
                                        int rangogt = GetRandomValue(0, 100);
                                        
                                        if (rangogt > intensityspew){

                                        ycord4 = ycord4 + 1;
                                        }

                                        
                                    }
                                    }


                                    if (xcord4 == attackx && ycord4 == attacky){
                                        attarget1 = true;
                                        ninety = true;
                                        fart = false;
                                        there1 = true;
                                        gather = false;
                                       

                                        
                                        
                                        

                                    }



                                }

                                
                                
                                //starts second ball tracking
                                if (gather == false && attarget1 == true ){
                                    

                                    if (fart == false)
                                    {
                                        attackx = 0;
                                        attacky = 0;
                                        attackx = attackx + xcord;
                                
                                        attacky = attacky + ycord;
                                        fart = true;
                                        there2 = false;

                                    }


                                    if (there2 == false){
                                        rapid = 30;

                                    

                        
                                        //tracks second ball to cord
                                        if (attackx  > xcord5){
                                            int googerted = GetRandomValue(0, 100);
                                            if (googerted > intensityspew){
                                                xcord5 = xcord5 + 1;
                                            }
                                            
                                            
                                        }
                                        if (attacky < ycord5){
                                            int hotefled = GetRandomValue(0, 100);
                                            if (hotefled > intensityspew){
                                                ycord5 = ycord5 - 1;
                                            }
                                        
                                        }             
                                        if (attackx  < xcord5){
                                        int googgeeted = GetRandomValue(0, 100);
                                            if (googgeeted > intensityspew){
                                                xcord5 = xcord5 - 1;
                                            }
                                            
                                        }
                                        if (attacky > ycord5){
                                        int rangogted = GetRandomValue(0, 100);
                                        
                                        if (rangogted > intensityspew){

                                        ycord5 = ycord5 + 1;
                                        }

                                        
                                    }
                                    }


                                    if (xcord5 == attackx && ycord5 == attacky){
                                        attarget2 = true;
                                        fart = false;
                                        there2 = true;
                                        gather = true;
                                        stopped = false;
                                        ninety = false;
                                         attarget1 = false;
                                         attarget2 = false;
                                    }



                                }
                                
                                

                                
                        


                           

                       

                    
                
                    
                    

            
            
           
                    
                
            
            
            

            DrawRectangle(xcord2, ycord2, 50, 50, GREEN);
            DrawCircle(xcord3, ycord3, rapid, RED );
            DrawCircle(xcord4, ycord4,30, RED );
            DrawCircle(xcord5, ycord5,30, RED );

            //checks for end goal collision


            
            

            /*

            if((370 < xcord) && (xcord < 430) && (370 < ycord) && (ycord < 430))
            {
                int b = 20;
                DrawCircleLines(400, 400, b, BLUE);
                b = b + 1;
                
                
            }
            */




            if ((1300 < xcord && xcord < 1350) && (400 < ycord && ycord < 450))
            {
                green = true;
                 
                toggle = true;
                
            }

            

                //checks for enemy circle collision
                if ( (((xcord3 - 30) < xcord) && ((xcord3 + 30) > xcord)) && ((ycord3 - 30) < ycord) && ((ycord3 + 30) > ycord))
            { 
                red = true;
                toggle = true;

            } 

            if ( (((xcord4 - 30) < xcord) && ((xcord4 + 30) > xcord)) && ((ycord4 - 30) < ycord) && ((ycord4 + 30) > ycord))
            { 
                red = true;
                toggle = true;

            } 

            if ( (((xcord5 - 30) < xcord) && ((xcord5 + 30) > xcord)) && ((ycord5 - 30) < ycord) && ((ycord5 + 30) > ycord))
            { 
                red = true;
                toggle = true;

            } 
           
            

        }
            



        
            



           
        





        DrawCircle(xcord, ycord, 10, BLACK);


        
        //draws border
        DrawRectangle(0, 0, 1400, 50, BLACK);
        DrawRectangle(0, 750, 1400, 50, BLACK);
        DrawRectangle(0, 0, 50, 1400, BLACK);
        DrawRectangle(1350, 0, 50, 1400, BLACK);
        DrawText("MYLEE", 570, 10, 40, WHITE);
        DrawText("by Milo Arjana", 720, 20, 20, WHITE);
         //makes replay of the game possible with hitting the left orange circle
            if(toggle == true)
            {
                // makes retry work on any level
                if(xcord < 560 && xcord > 530){
                    toggle = false;
                    red = false;
                    green = false;
                    reset = false;
                    xcord3 = 1350;
                    ycord3 = 400;

                    xcord4 = 1350;
                    ycord4 = 400;

                    xcord5 = 1350;
                    ycord5 = 400;

                    xcord = 90;
                    ycord = 400;
                    moved = false;
                    if (level3 == true){
                        level1 = false;
                        level2 = false;
                        level3 = true;
                        

                        xcord3 = 700;
                        ycord3 = 610;

                        xcord4 = 1200;
                        ycord4 = 610;

                        xcord5 = 900;
                        ycord5 = 100;
                        rapid = 30;
                        ninety = false;
                        stopped = false;
                        fart = true;

                        gather = true;
                          midpointx = 0; 
                        midpointy = 0; 
                        attackx = 0;
                        attacky = 0;
                        there1 = false;
                        there2 = false;
                        attarget1 = false;
                        attarget2 = false;
                         attarget3 = false;
                        attarget1 = false;
                    }


                }
                //makes next level work if they win
                if (green == true )
                
                {
                    if(xcord < 860 && xcord > 830) 
                    {
                        toggle = false;
                        if (level1 == true){
                        level1 = false;
                        level2 = true;
                        xcord3 = 1350;
                        ycord3 = 400;
                        }
                        else if (level2 == true){
                        level1 = false;
                        level2 = false;
                        level3 = true;
                        

                        xcord3 = 700;
                        ycord3 = 610;

                        xcord4 = 1200;
                        ycord4 = 610;

                        xcord5 = 900;
                        ycord5 = 100;
                        rapid = 30;
                        ninety = false;
                        stopped = false;
                        fart = true;

                        gather = true;
                        midpointx = 0; 
                        midpointy = 0; 
                        attackx = 0;
                        attacky = 0;
                        there1 = false;
                        there2 = false;
                      attarget1 = false;
                        attarget2 = false;
                         attarget3 = false;


                        }
                        else if (level3 == true){
                            //level 3 ball location initilizors

                        
                        }
                        red = false;
                        green = false;
                        reset = false;
                        if (level3 != true){
                            
                        }
                        xcord = 40;
                        ycord = 400;
                        
                        

                        
                        
                    }
                }
               
            

            }

            


            EndDrawing();


        
    }
        


}
